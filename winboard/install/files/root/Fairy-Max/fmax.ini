version 4.8(w)
8x8
6 4 5 7 3 5 4 6
6 4 5 7 3 5 4 6
p:74 -16,24 -16,6 -15,5 -17,5 
p:74  16,24 16,6 15,5 17,5
k:-1  1,34 -1,34 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
n:259 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
b:296 15,3 17,3 -15,3 -17,3
R:444 1,3 16,3 -1,3 -16,3
Q:851 1,3 16,3 15,3 17,3 -1,3 -16,3 -15,3 -17,3


Some Common piece definitions:

The board steps are encoded as follows:

                      ^  toward 8th rank
                      |
      -52 -51 -50 -49 -48 -47 -46 -45 -44
      -36 -35 -34 -33 -32 -31 -30 -29 -28
      -20 -19 -18 -17 -16 -15 -14 -13 -12
 <--   -4  -3  -2  -1 start 1   2   3   4   --> towards h file
 to    12  13  14  15  16  17  18  19  20
a-file 28  29  30  31  32  33  34  35  36
       44  45  46  47  48  49  50  51  52
                      |
                      v  towards first rank

SIMPLE LEAPERS
Ferz:
f:150 15,7 17,7 -15,7 -17,7
Wazir:
w:125 1,7 16,7 -1,7 -16,7
Knight:
n:325 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
Dabbabah:
d:100 2,7 32,7 -2,7 -32,7
Elephant:
e:80 30,7 34,7 -30,7 -34,7
Camel:
C:225 13,7 47,7 49,7 19,7 -13,7 -47,7 -49,7 -19,7
Zebra:
Z:175 29,7 46,7 50,7 35,7 -29,7 -46,7 -50,7 -35,7
Unicorn:
u:-1 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7

COMPOUND LEAPERS
King:
k:-1 1,34 -1,34 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7 1,34 -1,34
King (Shatranj, no castling):
k:-1 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7 1,34 -1,34
King (Capablanca castling):
k:-1 2,3034 -2,1034 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
Commoner:
m:260 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7 
Bison:
1000 13,7 47,7 49,7 19,7 -13,7 -47,7 -49,7 -19,7 29,7 46,7 50,7 35,7 -29,7 -46,7 -50,7 -35,7
Wildebeest:
g:800 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7 13,7 47,7 49,7 19,7 -13,7 -47,7 -49,7 -19,7
Carpenter:
c:450 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7 2,7 32,7 -2,7 -32,7
Kangaroo:
o:450 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7 30,7 34,7 -30,7 -34,7
High Priestess:
h:625 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7 30,7 34,7 -30,7 -34,7 15,7 17,7 -15,7 -17,7
Minister
c:625 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7 2,7 32,7 -2,7 -32,7 1,7 16,7 -1,7 -16,7
Crab:
c:150 31,7 33,7 -14,7 -18,7
Barc:
b:150 14,7 18,7 -31,7 -33,7

SEPARATE CAPTURES / NON-CAPTURES
White Pawn:
p:100 -16,6 -15,5 -17,5 -16,24
White Pawn (Shatranj, no double move):
p:100 -16,6 -15,5 -17,5
White Berolina Pawn
p:74 -15,24 -17,24 -16,5 -15,6 -17,6 
Black Pawn:
p:100 16,6 15,5 17,5 16,24
Pegasus (moves as Queen, captures as Rook):
S:500 1,2 16,2 15,2 17,2 -1,2 -16,2 -15,2 -17,2 14,5 31,5 33,5 18,5 -14,5 -31,5 -33,5 -18,5
Keen (moves as King, captures as Queen):
k:750  1,6 16,6 15,6 17,6 -1,6 -16,6 -15,6 -17,6 1,1 16,1 15,1 17,1 -1,1 -16,1 -15,1 -17,1 
Quing (moves as Queen, captures as King):
q:600  1,5 16,5 15,5 17,5 -1,5 -16,5 -15,5 -17,5 1,2 16,2 15,2 17,2 -1,2 -16,2 -15,2 -17,2 

SLIDERS
Bishop:
b:350 15,3 17,3 -15,3 -17,3
Rook:
R:500 1,3 16,3 -1,3 -16,3
NightRider:
H:560 14,3 31,3 33,3 18,3 -14,3 -31,3 -33,3 -18,3
Queen:
Q:950 1,3 16,3 15,3 17,3 -1,3 -16,3 -15,3 -17,3

LEAPER / SLIDER COMPOUNDS
Archbishop:
A:875 15,3 17,3 -15,3 -17,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
Caliph:
C:875 15,3 17,3 -15,3 -17,3 13,7 47,7 49,7 19,7 -13,7 -47,7 -49,7 -19,7
Marshall:
C:900 1,3 16,3 -1,3 -16,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
Canvasser:
C:900 1,3 16,3 -1,3 -16,3 13,7 47,7 49,7 19,7 -13,7 -47,7 -49,7 -19,7
Amazon:
A:1150 1,3 16,3 15,3 17,3 -1,3 -16,3 -15,3 -17,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
Crooked Bishop:
B:900 15,1E003 17,1E003 -15,1E003 -17,1E003 15,FFFE0003 -17,FFFE0003 -15,FFFE0003 17,FFFE0003

HOPPERS
GrassHopper:
G:200 1,F8 16,F8 15,F8 17,F8 -1,F8 -16,F8 -15,F8 -17,F8
Cannon:
C:400 1,BA 16,BA -1,BA -16,BA

LAME LEAPERS
Horse:
N:5 16,1070 16,1F070 1,10070 1,FFFF0070 -16,1070 -16,1F070 -1,10070 -1,FFFF0070
Xiangqi Elephant:
E:1 15,70 17,70 -15,70 -17,70



Syntax of a variant description:

Each variant starts with the label "Game:" followed by the variant name.
After that follow upto 18 lines with the description.

Line 1:     Board size (files x ranks). Ranks must currently still be 8.
Line 2:     initial setup of white pieces on back rank
Line 3:     initial setup of black pieces on back rank
Line 4-10:  Description of pieces present in the opening position
Line 11-18: Description 8 additional piece types

The rest of the lines is ignored, but some pre-cooked descriptions are
provided for easy copying into the first positions.



In case you want to build your own pieces, this is how it works:

The piece-description lines have the following syntax:
1) a piece-indicator character (lower case if piece should be centralized)
2) a colon
3) the internal value to be used for the piece (in centiPawn; Royal = -1)
4) for each direction it moves in, a ray descriptor consisting of:
   a) the initial step vector (on a 16x8 board, so 16 = straight ahead)
   b) a comma
   c) the move-mode descriptor, most easily given in hexadecimal, as the
      individual bits specify the various options

The individual bits in the move-mode descriptor have the following meaning:
In the last hexadecimal digit:
    1 capture allowed (of enemy piece; own pieces always block a move)
    2 con-capture allowed (i.e. we can move here if the square is empty)
    4 leaper, i.e. move terminates after one step (as opposed to slider)
    8 hop over non-empty square (normally occupied squares terminate a move)
Bits set in the forelast digits TOGGLE the corresponding bits in the last
digit. For hoppers when they hop over something, for the other pieces after
every step (so for normal pieces, better not set those bits!).

The digit before that can only be 0 or 1; a 1 indicates the board should
be treated as a cylinder, pieces crossing the right edge re-entering the
board at the left, and vice versa.

The higher-order bits toggle corresponding bits in the step vector,
to allow zig-zag paths. Better not set those either, if a straight
path is desired.

Useful bit combinations for the last digit are:
    3   normal slider
    7   normal leaper
    6   leaper that only moves (e.g. Pawn straight ahead)
    5   leaper that only captures (e.g. Pawn diagonal)
    1   slider that only captures
    2   slider that only moves
    0   pass through (for testing emptiness by Xiangqi Horse and Elephant)
    4   reserved for skip-step of Pawn double move and castling
    8   skip to hopper platform (1st part of Grasshopper move)
    A   non-capture before hop (1st part of Cannon move)
    C   must hop immediately

For example, if the initial step vector equals 1, and the descriptor
is 11003, the piece is an alternator (as no hop bit is set), and alternates
the mode from 3 to 3 (as the toggle digit is 0), i.e. all steps are moves
that can both capture and non-capture, and only captures terminate the ray.
The step vector is toggled by 11, though, and thus alternates between 1
and 10 (hex) = 16. So the piece zig-zags over the board, right, forward, right,
forward, etc. Had the move attributes been 11032, captures would only
be allowed on the odd steps (after moving right), while the even steps could
only be non-captures (both the 1 and 2 bit are toggled). With 11030 the
odd steps can only be skipped (if empty), and the even steps can both capture
and non-capture, meaning the piece moves like a Bishop that can be blocked
by a piece just next to the diagonal.

If the first step is a slider, a second step is made (if the square was
empty), but if the mode toggles to leaper, the move stops there (e.g. Horse).

Hoppers MUST change into non-hoppers on hopping, i.e. the 8 bit of BOTH
lower digits must be set. Otherwise results will be undefined.

Note that the first two piece-describing lines MUST be for the white and
black Pawn, respectively, or promotions will have undefined effects. Also
note that uMax does do primitive evaluation of Pawn structure, which might
become counter-productive if the Pawn move is changed.

Castling is done with the Rook replacement (the piece that starts in the
corner, whatever its type). If you don't want that, remove the castling
moves from the King desription. If the castling initiator does not start
in a central file, the results are currently undefined.


For the truly lazy, a few complete game descriptions can be found below:

// FIDE Chess (Mad Queen variant)
Game: normal
8x8
6 4 5 7 3 5 4 6
6 4 5 7 3 5 4 6
p:74 -16,24 -16,6 -15,5 -17,5 
p:74  16,24 16,6 15,5 17,5
k:-1  1,34 -1,34 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
n:259 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
b:296 15,3 17,3 -15,3 -17,3
R:444 1,3 16,3 -1,3 -16,3
Q:851 1,3 16,3 15,3 17,3 -1,3 -16,3 -15,3 -17,3
f:481 13,FFFFF207 29,F207 46,F207 47,10207 49,10207 50,11207 35,11207 19,1207 -13,1207 -29,FFFF1207 -46,FFFF1207 -47,FFFF0207 -49,FFFF0207 -50,FFFEF207 -35,FFFEF207 -19,FFFFF207 

// Arabic precursor of modern Chess
Game: shatranj
8x8
6 4 5 3 7 5 4 6
6 4 5 3 7 5 4 6
p:100 -16,6 -15,5 -17,5 
p:100 16,6 15,5 17,5
k:-1  1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
n:450 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
b:110 30,7 34,7 -30,7 -34,7
R:630 1,3 16,3 -1,3 -16,3
q:180 15,7 17,7 -15,7 -17,7
e:110 30,7 34,7 -30,7 -34,7
f:180 15,7 17,7 -15,7 -17,7

// Medieval intermediate between Shatranj and FIDE Chess
Game: courier
12x8
6 4 8 5 10 3 7 9 5 8 4 6
6 4 8 5 10 3 7 9 5 8 4 6
p:100 -16,6 -15,5 -17,5 
p:100 16,6 15,5 17,5
k:-1  1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
n:450 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
b:550 15,3 17,3 -15,3 -17,3
R:625 1,3 16,3 -1,3 -16,3
f:175 15,7 17,7 -15,7 -17,7
e:110 30,7 34,7 -30,7 -34,7
w:150 1,7 16,7 -1,7 -16,7
m:425 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7 

// The King moves as a Knight, and vice versa
Game: knightmate
8x8
6 4 5 7 3 5 4 6
6 4 5 7 3 5 4 6
p:74 -16,24 -16,6 -15,5 -17,5 
p:74  16,24 16,6 15,5 17,5
u:-1  1,34 -1,34 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
m:222 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
b:296 15,3 17,3 -15,3 -17,3
R:444 1,3 16,3 -1,3 -16,3
Q:851 1,3 16,3 15,3 17,3 -1,3 -16,3 -15,3 -17,3

// Modern variant with two new pieces (Archbishop and Chancellor) on 10x8 board
Game: capablanca
10x8
6 4 8 5 7 3 5 9 4 6
6 4 8 5 7 3 5 9 4 6
p:100 -16,24 -16,6 -15,5 -17,5 
p:100 16,24 16,6 15,5 17,5
k:-1  1,3034 -1,1034 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
n:310 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
b:350 15,3 17,3 -15,3 -17,3
R:475 1,3 16,3 -1,3 -16,3
Q:950 1,3 16,3 15,3 17,3 -1,3 -16,3 -15,3 -17,3
A:825 15,3 17,3 -15,3 -17,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
C:875 1,3 16,3 -1,3 -16,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7

// Gothic Chess is protected through U.S. patent #6,481,716 by Ed Trice.
// Spreading it without license might be a criminal offense!
Game: gothic
10x8
6 4 5 7 9 3 8 5 4 6
6 4 5 7 9 3 8 5 4 6
p:100 -16,24 -16,6 -15,5 -17,5 
p:100 16,24 16,6 15,5 17,5
k:-1 1,3034 -1,1034 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
n:310 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
b:350 15,3 17,3 -15,3 -17,3
R:475 1,3 16,3 -1,3 -16,3
Q:950 1,3 16,3 15,3 17,3 -1,3 -16,3 -15,3 -17,3
A:825 15,3 17,3 -15,3 -17,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
C:875 1,3 16,3 -1,3 -16,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7

// Cylinder Chess (WinBoard legality testing should be off toplay this!)
Game: cylinder
8x8
6 4 5 7 3 5 4 6
6 4 5 7 3 5 4 6
p:100 -16,24 -16,6 -15,105 -17,105 
p:100 16,24 16,6 15,105 17,105
k:-1 1,34 -1,34 1,107 16,7 15,107 17,107 -1,107 -16,7 -15,107 -17,107
n:350 14,107 31,107 33,107 18,107 -14,107 -31,107 -33,107 -18,107
b:450 15,103 17,103 -15,103 -17,103
R:525 1,103 16,3 -1,103 -16,3
Q:1150 1,103 16,3 15,103 17,103 -1,103 -16,3 -15,103 -17,103

// Berolina Chess. 
Game: berolina
8x8
6 4 5 7 3 5 4 6
6 4 5 7 3 5 4 6
p:74 -15,24 -17,24 -16,5 -15,6 -17,6 
p:74  15,24  17,24 16,5 15,6 17,6
k:-1  1,34 -1,34 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
n:259 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
b:296 15,3 17,3 -15,3 -17,3
R:444 1,3 16,3 -1,3 -16,3
Q:851 1,3 16,3 15,3 17,3 -1,3 -16,3 -15,3 -17,3

// Modern variant with four new pieces in randomly chosen setup on 8x8 board
Game: super
8x8
6 4 5 7 3 5 4 6
6 4 5 7 3 5 4 6
p:100 -16,24 -16,6 -15,5 -17,5 
p:100 16,24 16,6 15,5 17,5
k:-1  1,34 -1,34 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
n:350 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
b:360 15,3 17,3 -15,3 -17,3
R:575 1,3 16,3 -1,3 -16,3
Q:900 1,3 16,3 15,3 17,3 -1,3 -16,3 -15,3 -17,3
S:825 15,3 17,3 -15,3 -17,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
E:850 1,3 16,3 -1,3 -16,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
V:775 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
A:1200 1,3 16,3 -1,3 -16,3 15,3 17,3 -15,3 -17,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
o:700 2,7 30,7 32,7 34,7 -2,7 -30,7 -32,7 -34,7 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
g:640 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7 2,7 30,7 32,7 34,7 -2,7 -30,7 -32,7 -34,7
m:-1  1,34 -1,34 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7 16,70 -16,70
d:625 1,7 16,7 -1,7 -16,7 15,3 17,3 -15,3 -17,3

// Modern variant with only short-range leapers on 10x8 board
Game: great
10x8
6 4 5 8 3 10 9 5 4 6
6 4 5 8 3 10 9 5 4 6
p:100 -16,6 -15,5 -17,5 
p:100 16,6 15,5 17,5
k:-1  1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
n:290 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
e:270 15,7 17,7 -15,7 -17,7 30,7 34,7 -30,7 -34,7
w:300 1,7 16,7 -1,7 -16,7 2,7 -2,7 32,7 -32,7
s:280 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
g:640 1,7 16,7 -1,7 -16,7 2,7 -2,7 32,7 -32,7 15,7 17,7 -15,7 -17,7 30,7 34,7 -30,7 -34,7
h:640 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7 15,7 17,7 -15,7 -17,7 30,7 34,7 -30,7 -34,7
m:640 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7 1,7 16,7 -1,7 -16,7 2,7 -2,7 32,7 -32,7

// Game: fairy
8x8
6 4 5 7 3 5 4 6
6 4 5 7 3 5 4 6
p:100 -16,24 -16,6 -15,5 -17,5 
p:100 16,24 16,6 15,5 17,5
k:-1  1,34 -1,34 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7
n:325 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
b:350 15,3 17,3 -15,3 -17,3
R:500 1,3 16,3 -1,3 -16,3
Q:950 1,3 16,3 15,3 17,3 -1,3 -16,3 -15,3 -17,3
S:875 15,3 17,3 -15,3 -17,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
E:900 1,3 16,3 -1,3 -16,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
V:850 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
A:1260 1,3 16,3 -1,3 -16,3 15,3 17,3 -15,3 -17,3 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
o:700 2,7 30,7 32,7 34,7 -2,7 -30,7 -32,7 -34,7 14,7 31,7 33,7 18,7 -14,7 -31,7 -33,7 -18,7
g:640 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7 2,7 30,7 32,7 34,7 -2,7 -30,7 -32,7 -34,7
m:-1  1,34 -1,34 1,7 16,7 15,7 17,7 -1,7 -16,7 -15,7 -17,7 16,70 -16,70
d:625 1,7 16,7 -1,7 -16,7 15,3 17,3 -15,3 -17,3

// End of game file
